<div id="container" style="width: 100%; height: 500px"></div>

<script type="text/javascript">

var chart; // globally available

$(document).ready(function() {
	
	var options = {
	    credits: {
	        text: 'Assetcorrelation.com',
	        href: 'http://www.assetcorrelation.com'
	    },
		chart: {
			renderTo: 'container',
			defaultSeriesType: 'area'
		},
		title: {
			text: 'Correlation Over Time'
		},
		xAxis: {
			type: 'datetime',
			dateTimeLabelFormats: {
            	month: '%b \'%y' 
            }
		},
		yAxis: {
			title: {
				text: 'Correlation'
			},
			max:  1.0,
			min: -1.0
		},
		plotOptions: {
		   area: {
		      fillColor: {
		         linearGradient: [0, 0, 0, 300],
		         stops: [
		            [0, Highcharts.getOptions().colors[0]],
		            [1, 'rgba(2,0,0,0)']
		         ]
		      },
		      lineWidth: 1,
		      marker: {
		         enabled: false,
		         states: {
		            hover: {
		               enabled: true,
		               radius: 5
		            }
		         }
		      },
		      shadow: false,
		      states: {
		         hover: {
		            lineWidth: 1                  
		         }
		      }
		   }
		},		
		series: []
	};	
	
	
	$.get('/corr_over_time', function(data) {
		
		var corr = { data: [] };
                			 
		corr.data          = data[0];
		corr.pointStart    = Date.parse(data[1][0]);
 		corr.pointEnd      = Date();
		corr.name          = data[2];
		
		options.series.push(corr);
			
		var chart = new Highcharts.Chart(options);
	});
		
});

</script>