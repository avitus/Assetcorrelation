<h1>Expected S&P 500 Return Based on Historical P/E Ranges</h1>

<div class="macro-buckets" id="left">
	
	<div class='small-table'>
		<h3>Expected Return by 10 Yr PE</h3>
		<table class="nostradamus-standard">
			<thead>
				<tr>
				  <% for hdg in @pe_ten_year_headings %>
				  		<th><%= hdg %></th>
				  <% end %>
		  		</tr>
			</thead>
	
			<tbody>
				  <% for row in @pe_ten_year_table %>
					  <tr <%= in_range( @shiller_pe, row[:range] ) %> >
					    <td align="right"><%= row[:range]    %> x</td>
					    <td align="right"><%= number_with_precision(row[:mo_ret], :precision => 1) %> %</td>		
						<td align="right"><%= row[:mo_count] %></td>		 
					  </tr>
				  <% end %>
			</tbody>
		</table>
	</div>
	
	<div class="footnotes">	
		<h4>Notes</h4>
		<ol>
			<li>Expected return is calculated using annualized geometric mean of monthly returns</li>
			<li>Return calculation includes dividends and is adjusted for inflation</li>		
			<li>'Months' column is number of months that 10 Yr PE was in given range</li>
			<li>Shiller ten year P/E as of today is <%= number_with_precision(@shiller_pe, :precision => 1) %></li>
		</ol>
	</div>
</div>

<div class="macro-buckets" id="right">
	<div class='small-table'>	
		<h3>Expected Return by Equity Risk Yield</h3>
		<table class="nostradamus-standard">
			<thead><tr>
			  <% for hdg in @equity_risk_yield_headings %>
			  		<th><%= hdg %></th>
			  <% end %>
		  	</tr></thead>
	
			<tbody>
				  <% for row in @equity_risk_yield_table %>
					  <tr <%= in_range( @ery, row[:range] ) %> >
					    <td align="right"><%= row[:range]    %> %</td>
					    <td align="right"><%= number_with_precision(row[:mo_ret], :precision => 1) %> %</td>		
						<td align="right"><%= row[:mo_count] %></td>		 
					  </tr>
				  <% end %>
			</tbody>
		</table>
	</div>
	
	<div class="footnotes">
		<h4>Notes</h4>
		<ol>
			<li>Expected return is calculated using annualized geometric mean of monthly returns</li>
			<li>Return calculation includes dividends and is adjusted for inflation</li>
			<li>Equity risk yield is calculated as (1 / 10 Yr PE) - 10 Yr Treasury Rate</li>
			<li>'Months' column is number of months that equity risk yield was in given range</li>
			<li>10 Yr rate as of today is <%= number_with_precision(@ten_yr_rate, :precision => 1) %>%. The
				equity risk yield is <%= number_with_precision(@ery, :precision => 1) %>%.</li>			
		</ol>	
	</div>
	
</div>

<div class="clr"></div>

